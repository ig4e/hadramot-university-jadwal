(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{5892:function(e,t,n){"use strict";n.d(t,{Y:function(){return z}});var r=n(79),l=n(7805),s=n(3901),i=n(1957),a=n(3376);let o=(e,t,n)=>Number.isInteger(e)&&e>=0&&0===t?"numeric":!Number.isInteger(e)&&e>=0&&0!==t?"decimal":Number.isInteger(e)&&e<0&&0===t||!Number.isInteger(e)&&e<0&&0!==t?"ios"===n?"text":"decimal":"numeric";function c({direction:e,size:t}){return r.createElement("svg",{style:{transform:"up"===e?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var d=n(8371);let u={xs:20,sm:24,md:30,lg:34,xl:36};var m=(0,d.k)((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:u}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),f=n(4031),h=Object.defineProperty,x=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&y(e,n,t[n]);if(g)for(var n of g(t))v.call(t,n)&&y(e,n,t[n]);return e},N=(e,t)=>x(e,p(t)),w=(e,t)=>{var n={};for(var r in e)b.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&g)for(var r of g(e))0>t.indexOf(r)&&v.call(e,r)&&(n[r]=e[r]);return n};let C=e=>{if("-"===e)return e;let t=e;"."===t[0]&&(t=`0${e}`);let n=parseFloat(t);if(!Number.isNaN(n))return e},S={xs:10,sm:14,md:16,lg:18,xl:20},k={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:e=>e||"",parser:C,type:"text"},z=(0,r.forwardRef)((e,t)=>{let n=(0,a.N4)("NumberInput",k,e),{readOnly:d,disabled:h,value:x,onChange:p,decimalSeparator:g,min:b,max:v,startValue:y,step:C,stepHoldInterval:z,stepHoldDelay:E,onBlur:Z,onFocus:O,onKeyDown:P,onKeyUp:I,hideControls:R,radius:D,variant:_,precision:A,removeTrailingZeros:L,defaultValue:M,noClampOnBlur:T,handlersRef:F,classNames:U,styles:W,size:B,rightSection:$,rightSectionWidth:K,formatter:V,parser:Y,inputMode:H,unstyled:X,type:Q}=n,q=w(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:J,cx:G,theme:ee}=m({radius:D,size:B},{classNames:U,styles:W,unstyled:X,name:"NumberInput"}),et=e=>{if(void 0===e)return;let t=e.toFixed(A);return L&&A>0&&((t=t.replace(RegExp(`[0]{0,${A}}$`),"")).endsWith(".")||t.endsWith(g))&&(t=t.slice(0,-1)),t},[en,er]=(0,r.useState)(!1),[el,es]=(0,r.useState)("number"==typeof x?x:"number"==typeof M?M:void 0),ei="number"==typeof x?x:el,[ea,eo]=(0,r.useState)("number"==typeof ei?et(ei):""),ec=(0,r.useRef)(),ed=e=>{e===el||Number.isNaN(e)||("function"==typeof p&&p(e),es(e))},eu=e=>{let t=e;return g&&(t=t.replace(RegExp(`\\${g}`,"g"),".")),Y(t)},em="number"==typeof b?b:-1/0,ef="number"==typeof v?v:1/0,eh=(0,r.useRef)();eh.current=()=>{var e,t,n;if(void 0===el)ed(null!=(e=null!=y?y:b)?e:0),eo(null!=(n=null!=(t=et(y))?t:et(b))?n:"0");else{let e=et((0,l.u)(el+C,em,ef));ed(parseFloat(e)),eo(e)}};let ex=(0,r.useRef)();ex.current=()=>{var e,t,n;if(void 0===el)ed(null!=(e=null!=y?y:b)?e:0),eo(null!=(n=null!=(t=et(y))?t:et(b))?n:"0");else{let e=et((0,l.u)(el-C,em,ef));ed(parseFloat(e)),eo(e)}},(0,s.k)(F,{increment:eh.current,decrement:ex.current}),(0,r.useEffect)(()=>{"number"!=typeof x||en||(es(x),eo(et(x))),void 0!==M||void 0!==x||en||(es(x),eo(""))},[x,A]);let ep=void 0!==E&&void 0!==z,eg=(0,r.useRef)(null),eb=(0,r.useRef)(0),ev=()=>{eg.current&&window.clearTimeout(eg.current),eg.current=null,eb.current=0},ey=e=>{e?eh.current():ex.current(),eb.current+=1},ej=e=>{if(ey(e),ep){let t="number"==typeof z?z:z(eb.current);eg.current=window.setTimeout(()=>ej(e),t)}},eN=(e,t)=>{e.preventDefault(),ec.current.focus(),ey(t),ep&&(eg.current=window.setTimeout(()=>ej(t),E))};(0,r.useEffect)(()=>(ev(),ev),[]);let ew=r.createElement("div",{className:J.rightSection},r.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ei>=v,className:G(J.control,J.controlUp),onPointerDown:e=>{eN(e,!0)},onPointerUp:ev,onPointerLeave:ev},r.createElement(c,{size:ee.fn.size({size:B,sizes:S}),direction:"up"})),r.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ei<=b,className:G(J.control,J.controlDown),onPointerDown:e=>{eN(e,!1)},onPointerUp:ev,onPointerLeave:ev},r.createElement(c,{size:ee.fn.size({size:B,sizes:S}),direction:"down"}))),eC=e=>{let t=e.nativeEvent;if(t.isComposing)return;let n=e.target.value,r=eu(n);eo(r),""===n||"-"===n?ed(void 0):""===n.trim()||Number.isNaN(r)||ed(parseFloat(r))},eS=e=>{var t;if(""===e.target.value)eo(""),ed(void 0);else{let n=e.target.value;(n[0]===`${g}`||"."===n[0])&&(n=`0${n}`);let r=eu(n),s=(0,l.u)(parseFloat(r),em,ef);Number.isNaN(s)?eo(null!=(t=et(ei))?t:""):T||(eo(et(s)),ed(parseFloat(et(s))))}er(!1),"function"==typeof Z&&Z(e)},ek=e=>{er(!0),"function"==typeof O&&O(e)},ez=e=>{if("function"==typeof P&&P(e),e.repeat&&ep&&("ArrowUp"===e.key||"ArrowDown"===e.key)){e.preventDefault();return}d||("ArrowUp"===e.key?eN(e,!0):"ArrowDown"===e.key&&eN(e,!1))},eE=e=>{"function"==typeof I&&I(e),("ArrowUp"===e.key||"ArrowDown"===e.key)&&ev()};return r.createElement(f.o,N(j({},q),{type:Q,variant:_,value:((e="")=>{let t="number"==typeof e?String(e):e;return g&&(t=t.replace(/\./g,g)),V(t)})(ea),disabled:h,readOnly:d,ref:(0,i.Y)(ec,t),onChange:eC,onBlur:eS,onFocus:ek,onKeyDown:ez,onKeyUp:eE,rightSection:$||(h||d||R||"unstyled"===_?null:ew),rightSectionWidth:K||ee.fn.size({size:B,sizes:u})+1,radius:D,max:v,min:b,step:C,size:B,styles:W,classNames:U,inputMode:H||o(C,A,"undefined"!=typeof window?function(){let{userAgent:e}=window.navigator;return/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i.test(e)?"macos":/(iPhone)|(iPad)|(iPod)/i.test(e)?"ios":/(Win32)|(Win64)|(Windows)|(WinCE)/i.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}():"undetermined"),__staticSelector:"NumberInput",unstyled:X}))});z.displayName="@mantine/core/NumberInput"},1957:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var r=n(79),l=n(3901);function s(...e){return(0,r.useCallback)(function(...e){return t=>{e.forEach(e=>(0,l.k)(e,t))}}(...e),e)}},3901:function(e,t,n){"use strict";function r(e,t){"function"==typeof e?e(t):"object"==typeof e&&null!==e&&"current"in e&&(e.current=t)}n.d(t,{k:function(){return r}})},7805:function(e,t,n){"use strict";function r(e,t,n){return Math.min(Math.max(e,t),n)}n.d(t,{u:function(){return r}})},524:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/halls",function(){return n(3198)}])},9247:function(e,t,n){"use strict";var r=n(5250),l=n(8112),s=n.n(l);n(79);var i=n(6502),a=n(6062),o=n(2949);t.Z=function(e){let{header:t,description:n,link:l,leftSection:c}=e;return(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[t&&(0,r.jsx)(a.Z,{children:t}),n&&(0,r.jsx)(o.Z,{size:"lg",children:n})]}),c?c.children:l&&(0,r.jsxs)(s(),{href:l.href,children:[l.buttonChildren&&(0,r.jsx)(i.Z,{size:"lg",className:"flex items-center gap-2 min-w-max self-end",children:l.buttonChildren}),l.children]})]})}},6502:function(e,t,n){"use strict";var r=n(5250),l=n(9841);n(79),t.Z=function(e){let{children:t,size:n="lg",className:s,intent:i="primary",...a}=e;return(0,r.jsx)("button",{type:"button",...a,className:(0,l.Z)("rounded-md font-medium transition enabled:hover:-translate-y-0.5 enabled:active:hover:translate-y-0 disabled:opacity-50 select-none",{"text-xl font-medium py-2 px-4 rounded-lg":"lg"===n,"text-lg py-1 px-2":"md"===n,"text-md py-1 px-2":"sm"===n,"bg-blue-600 enabled:hover:bg-blue-700 enabled:active:bg-blue-800 text-neutral-50 ":"primary"===i,"bg-red-600 enabled:hover:bg-red-700 enabled:active:bg-red-800 text-neutral-50 ":"danger"===i,"bg-slate-600 enabled:hover:bg-slate-700 enabled:active:bg-slate-800 text-neutral-50 ":"secondary"===i,"border-2 border-slate-600 enabled:hover:border-slate-700 enabled:active:border-slate-800 text-slate-600 enabled:hover:text-slate-700 enabled:active:text-slate-800":"outline"===i},s),children:t})}},6062:function(e,t,n){"use strict";var r=n(5250),l=n(9841);n(79),t.Z=function(e){let{children:t,size:n="lg",className:s}=e;return(0,r.jsx)("div",{className:(0,l.Z)("font-semibold",{"text-2xl md:text-3xl lg:text-4xl font-semibold":"lg"===n,"text-lg md:text-xl lg:text-2xl font-semibold":"md"===n,"text-base md:text-lg lg:text-xl font-semibold":"sm"===n},s),children:t})}},2514:function(e,t,n){"use strict";var r=n(5250);n(79);var l=n(3632);t.Z=function(e){let{rootProps:t,trigger:n,children:s}=e;return(0,r.jsxs)(l.fC,{...t,children:[(0,r.jsx)(l.xz,{asChild:!0,children:n}),(0,r.jsx)(l.h_,{children:(0,r.jsx)(l.aV,{className:"fixed inset-0 bg-slate-900/25 grid place-items-center",children:(0,r.jsx)(l.VY,{dir:"rtl",className:"bg-slate-50 min-w-[20rem] w-full max-w-xl p-4 rounded-md space-y-4",children:s})})})]})}},2949:function(e,t,n){"use strict";var r=n(5250),l=n(9841);n(79),t.Z=function(e){let{children:t,size:n="lg",className:s}=e;return(0,r.jsx)("div",{className:(0,l.Z)("",{"text-base lg:text-lg":"lg"===n,"text-sm lg:text-base":"md"===n,"text-xs lg:text-sm":"sm"===n},s),children:t})}},3198:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(5250),l=n(3752),s=n(3139),i=n(1380),a=n(6502),o=n(4538),c=n(9597),d=n(9247),u=n(4574),m=n(4031),f=n(5892),h=n(3224),x=n(3632),p=n(79),g=n(2278);let b=e=>({title:"تم أضافة القاعة بنجاح",description:"تم أضافة القاعة <hallName> بنجاح.".replaceAll("<hallName>",e),success:!0}),v=e=>({title:"تعذر أضافة القاعة",description:"تعذر أضافة القاعة <hallName>.".replaceAll("<hallName>",e),success:!1}),y=e=>({title:"تم تعديل القاعة بنجاح",description:"تم تعديل القاعة <hallName> بنجاح.".replaceAll("<hallName>",e),success:!0}),j=e=>({title:"تعذر تعديل القاعة",description:"تعذر تعديل القاعة <hallName>.".replaceAll("<hallName>",e),success:!1});var N=n(5921);let w=N.y.object().shape({name:N.y.string().required("يرجى أدخال أسم القاعة"),studentsCount:N.y.number().required("يرجى أدخال سعة القاعة من الطلاب")});var C=n(6062),S=n(2514),k=function(e){var t;let{trigger:n,hallId:l,onComplete:s}=e,d=!!l,[N,k]=(0,p.useState)(!1),z=d?o.S.hall.get.useQuery({id:l}):void 0,E=(0,c.r)(),Z=o.S.hall.create.useMutation(),O=o.S.hall.edit.useMutation(),{register:P,handleSubmit:I,watch:R,control:D,formState:{errors:_},reset:A,setValue:L}=(0,g.cI)({mode:"onChange",defaultValues:{name:"",studentsCount:0},resolver:(0,u.X)(w)});async function M(e){k(!1),A();try{d?(await O.mutateAsync({id:l,...e}),E.notify(y(e.name))):(await Z.mutateAsync(e),E.notify(b(e.name)))}catch(t){d?E.notify(j(e.name)):E.notify(v(e.name))}s&&s()}return(0,p.useEffect)(()=>{z&&z.data&&(L("name",z.data.name),L("studentsCount",z.data.studentsCount))},[null==z?void 0:z.data]),(0,r.jsx)(S.Z,{trigger:n,rootProps:{open:N,onOpenChange(e){k(e)}},children:(0,r.jsxs)("form",{className:"space-y-8",onSubmit:I(M),children:[(0,r.jsx)(x.Dx,{asChild:!0,children:(0,r.jsx)(C.Z,{size:"md",children:d?"عدل قاعة":"أضف القاعة"})}),(0,r.jsx)(m.o,{...P("name"),label:"أسم القاعة",error:null===(t=_.name)||void 0===t?void 0:t.message}),(0,r.jsx)(g.Qr,{name:"studentsCount",control:D,render:e=>{var t;let{field:n}=e;return(0,r.jsx)(f.Y,{...n,label:"سعة القاعة من الطلاب",error:null===(t=_.studentsCount)||void 0===t?void 0:t.message,type:"number"})}}),(0,r.jsxs)("div",{className:"flex gap-2 items-center justify-end",children:[(0,r.jsx)(x.x8,{asChild:!0,children:(0,r.jsxs)(a.Z,{className:"flex gap-2 items-center",size:"md",intent:"secondary","aria-label":"Close",children:[(0,r.jsx)(i.Pxu,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"أغلق"})]})}),(0,r.jsxs)(a.Z,{type:"submit",size:"md",className:"flex gap-2 items-center",children:[(0,r.jsx)(h.n,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:d?"تعديل":"أضف"})]})]})]})})},z=function(){var e,t,n,u,m;let f=o.S.hall.list.useQuery({limit:250}),h=o.S.hall.delete.useMutation(),x=(0,c.r)();return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(d.Z,{header:"القاعات",description:"هنا يوجد جميع القاعات",leftSection:{children:(0,r.jsx)(k,{onComplete:()=>f.refetch(),trigger:(0,r.jsxs)(a.Z,{size:"lg",className:"flex items-center gap-2 min-w-max self-end",children:[(0,r.jsx)(i.pOD,{className:"w-5 h-5 stroke-white stroke-[0.5]"}),(0,r.jsx)("span",{children:"أنشئ قاعة جديد"})]})})}}),(0,r.jsxs)(l.i,{className:"bg-slate-800 rounded-md",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"!text-slate-50",children:"أسم القاعة"}),(0,r.jsx)("th",{className:"!text-slate-50",children:"سعة القاعة"}),(0,r.jsx)("th",{className:"!text-slate-50",children:"تاريخ الانشاء"}),(0,r.jsx)("th",{className:"!text-slate-50",children:"أخر تعديل"}),(0,r.jsx)("th",{className:"!text-slate-50",children:"اجرائات"})]})}),((null===(e=f.data)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t.length)||0)>0&&(0,r.jsx)("tbody",{className:"bg-slate-50 w-full border-b border-slate-300",children:null===(n=f.data)||void 0===n?void 0:n.items.map(e=>{let{id:t,name:n,studentsCount:l,createdAt:s,updatedAt:o}=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:n}),(0,r.jsx)("td",{children:l}),(0,r.jsx)("td",{children:(0,r.jsx)("time",{dateTime:s.toISOString(),children:s.toLocaleString()})}),(0,r.jsx)("td",{children:(0,r.jsx)("time",{dateTime:o.toISOString(),children:s.toLocaleString()})}),(0,r.jsx)("td",{className:"w-28",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 w-fit",children:[(0,r.jsxs)(a.Z,{size:"sm",intent:"danger",className:"flex items-center gap-2",onClick:async()=>{try{await h.mutateAsync({id:t}),x.notify({title:"تم حذف القاعة بنجاح!",description:"تم حذف ".concat(n," بنجاح."),success:!0}),f.refetch()}catch(e){x.notify({title:"تعذر حذف القاعة!",description:"تعذر حذف ".concat(n,"."),success:!1})}},children:[(0,r.jsx)(i.XHJ,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"حذف"})]}),(0,r.jsx)(k,{onComplete:()=>{f.refetch()},hallId:t,trigger:(0,r.jsxs)(a.Z,{size:"sm",className:"flex items-center gap-2",children:[(0,r.jsx)(i.JtS,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"تعديل"})]})})]})})]},t)})})]}),0>=((null===(u=f.data)||void 0===u?void 0:null===(m=u.items)||void 0===m?void 0:m.length)||0)&&!f.isLoading&&(0,r.jsx)("span",{className:"bg-slate-50 w-full text-center flex justify-center",children:"لا يوجد قاعات"}),f.isLoading&&(0,r.jsx)(s.a,{className:"bg-slate-50 w-full text-center flex justify-center"})]})}},5921:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r=n(4004),l=n(8155);r.setLocale(l.ar)}},function(e){e.O(0,[609,850,207,774,888,179],function(){return e(e.s=524)}),_N_E=e.O()}]);