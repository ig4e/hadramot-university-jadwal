(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5029:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(6320)}])},9247:function(e,t,l){"use strict";var s=l(5250),a=l(8112),n=l.n(a);l(79);var i=l(6502),r=l(6062),d=l(2949);t.Z=function(e){let{header:t,description:l,link:a,leftSection:c}=e;return(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[t&&(0,s.jsx)(r.Z,{children:t}),l&&(0,s.jsx)(d.Z,{size:"lg",children:l})]}),c?c.children:a&&(0,s.jsxs)(n(),{href:a.href,children:[a.buttonChildren&&(0,s.jsx)(i.Z,{size:"lg",className:"flex items-center gap-2 min-w-max self-end",children:a.buttonChildren}),a.children]})]})}},6502:function(e,t,l){"use strict";var s=l(5250),a=l(9841);l(79),t.Z=function(e){let{children:t,size:l="lg",className:n,intent:i="primary",...r}=e;return(0,s.jsx)("button",{type:"button",...r,className:(0,a.Z)("rounded-md font-medium transition enabled:hover:-translate-y-0.5 enabled:active:hover:translate-y-0 disabled:opacity-50 select-none",{"text-xl font-medium py-2 px-4 rounded-lg":"lg"===l,"text-lg py-1 px-2":"md"===l,"text-md py-1 px-2":"sm"===l,"bg-blue-600 enabled:hover:bg-blue-700 enabled:active:bg-blue-800 text-neutral-50 ":"primary"===i,"bg-red-600 enabled:hover:bg-red-700 enabled:active:bg-red-800 text-neutral-50 ":"danger"===i,"bg-slate-600 enabled:hover:bg-slate-700 enabled:active:bg-slate-800 text-neutral-50 ":"secondary"===i,"border-2 border-slate-600 enabled:hover:border-slate-700 enabled:active:border-slate-800 text-slate-600 enabled:hover:text-slate-700 enabled:active:text-slate-800":"outline"===i},n),children:t})}},6062:function(e,t,l){"use strict";var s=l(5250),a=l(9841);l(79),t.Z=function(e){let{children:t,size:l="lg",className:n}=e;return(0,s.jsx)("div",{className:(0,a.Z)("font-semibold",{"text-2xl md:text-3xl lg:text-4xl font-semibold":"lg"===l,"text-lg md:text-xl lg:text-2xl font-semibold":"md"===l,"text-base md:text-lg lg:text-xl font-semibold":"sm"===l},n),children:t})}},2949:function(e,t,l){"use strict";var s=l(5250),a=l(9841);l(79),t.Z=function(e){let{children:t,size:l="lg",className:n}=e;return(0,s.jsx)("div",{className:(0,a.Z)("",{"text-base lg:text-lg":"lg"===l,"text-sm lg:text-base":"md"===l,"text-xs lg:text-sm":"sm"===l},n),children:t})}},442:function(e,t,l){"use strict";l.d(t,{K:function(){return s}});let s={1:"عام",2:"موازى"}},1891:function(e,t,l){"use strict";l.d(t,{H:function(){return s}});let s={1:"الأول",2:"الثانى",3:"الثالث",4:"الرابع"}},633:function(e,t,l){"use strict";l.d(t,{Y:function(){return s}});let s={1:"الأول",2:"الثانى"}},6320:function(e,t,l){"use strict";l.r(t);var s=l(5250),a=l(1380),n=l(79),i=l(6502),r=l(183),d=l(3752),c=l(3139),u=l(9247),o=l(4538),x=l(442),m=l(8112),h=l.n(m),b=l(633),v=l(1891),f=l(488),j=l(9597);t.default=function(){var e,t,l,m,g;let p=(0,j.r)(),N=o.S.table.delete.useMutation(),[y,w]=(0,n.useState)(),Z=o.S.major.list.useQuery({limit:250,type:(null==y?void 0:y.acceptType)?Number(null==y?void 0:y.acceptType):void 0}),_=o.S.table.list.useQuery({limit:250,level:(null==y?void 0:y.level)?Number(y.level):void 0,semester:(null==y?void 0:y.semester)?Number(y.semester):void 0,type:(null==y?void 0:y.acceptType)?Number(y.acceptType):void 0,majorId:null==y?void 0:y.majorId});(0,n.useEffect)(()=>{console.log(y)},[y]);let S=(0,n.useMemo)(()=>Z.data&&Z.data.items.map(e=>{let{id:t,name:l,type:s}=e;return{value:t,label:l+" "+x.K[s],group:x.K[s]}}),[Z.data]);function C(e){return function(t){return w(l=>({...l,[e]:t}))}}return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(u.Z,{header:"الجداول",description:"هنا يوجد جميع الجداول"}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)(r.Ph,{label:"أختر الفصل الدراسى",placeholder:"الفصل الدراسى",data:[{value:"",label:"الكل"},{value:"1",label:"الأول"},{value:"2",label:"الثانى"}],onChange:C("semester"),defaultValue:""}),(0,s.jsx)(r.Ph,{label:"أختر نوع القبول",placeholder:"نوع القبول",data:[{value:"",label:"الكل"},{value:"1",label:"عام"},{value:"2",label:"موازى"}],onChange:C("acceptType"),defaultValue:""}),(0,s.jsx)(r.Ph,{label:"أختر التخصص",placeholder:"التخصص",data:S?[{value:"",label:"الكل",group:"الكل"},...S]:[],value:null==y?void 0:y.majorId,defaultValue:"",onChange:C("majorId")}),(0,s.jsx)(r.Ph,{label:"أختر المستوى",placeholder:"المستوى",data:[{value:"",label:"الكل"},{value:"1",label:"الأول"},{value:"2",label:"الثانى"},{value:"3",label:"الثالث"},{value:"4",label:"الرابع"}],onChange:C("level"),defaultValue:""}),(0,s.jsx)(h(),{href:"/tables/create",className:"self-end",children:(0,s.jsxs)(i.Z,{size:"md",className:"flex items-center gap-2 min-w-max",children:[(0,s.jsx)(a.pOD,{className:"w-5 h-5 stroke-white stroke-[0.5]"}),(0,s.jsx)("span",{children:"أنشئ جدول جديد"})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(d.i,{className:"bg-slate-800 rounded-md",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"!text-slate-50",children:"التخصص"}),(0,s.jsx)("th",{className:"!text-slate-50",children:"نوع القبول"}),(0,s.jsx)("th",{className:"!text-slate-50",children:"الفصل الدراسى"}),(0,s.jsx)("th",{className:"!text-slate-50",children:"المستوى"}),(0,s.jsx)("th",{className:"!text-slate-50",children:"تاريخ الانشاء"}),(0,s.jsx)("th",{className:"!text-slate-50",children:"أخر تعديل"}),(0,s.jsx)("th",{className:"!text-slate-50",children:"اجرائات"})]})}),((null===(e=_.data)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t.length)||0)>0&&(0,s.jsx)("tbody",{className:"bg-slate-50 w-full border-b border-slate-300",children:null===(l=_.data)||void 0===l?void 0:l.items.map(e=>{let{id:t,level:l,major:n,semester:r,subjects:d,type:c,createdAt:u,updatedAt:o}=e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:null==n?void 0:n.name}),(0,s.jsx)("td",{children:x.K[c]}),(0,s.jsx)("td",{children:b.Y[r]}),(0,s.jsx)("td",{children:v.H[l]}),(0,s.jsx)("td",{children:(0,s.jsx)("time",{dateTime:null==u?void 0:u.toISOString(),children:null==u?void 0:u.toLocaleString()})}),(0,s.jsx)("td",{children:(0,s.jsx)("time",{dateTime:null==o?void 0:o.toISOString(),children:null==u?void 0:u.toLocaleString()})}),(0,s.jsx)("td",{className:"w-28",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 w-fit",children:[(0,s.jsxs)(i.Z,{size:"sm",intent:"danger",className:"flex items-center gap-2",onClick:async()=>{try{await N.mutateAsync({id:t}),p.notify({title:"تم حذف الجدول بنجاح!",success:!0}),_.refetch()}catch(e){p.notify({title:"تعذر حذف الجدول!",success:!1})}},children:[(0,s.jsx)(a.XHJ,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"حذف"})]}),(0,s.jsx)(h(),{href:"/tables/preview/".concat(t),children:(0,s.jsxs)(i.Z,{size:"sm",intent:"primary",className:"flex items-center gap-2",children:[(0,s.jsx)(f,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"عرض"})]})})]})})]},t)})})]}),0>=((null===(m=_.data)||void 0===m?void 0:null===(g=m.items)||void 0===g?void 0:g.length)||0)&&!_.isLoading&&(0,s.jsx)("span",{className:"bg-slate-50 w-full text-center flex justify-center",children:"لا يوجد جداول"}),_.isLoading&&(0,s.jsx)(c.a,{className:"bg-slate-50 w-full text-center flex justify-center"})]})]})}}},function(e){e.O(0,[609,271,226,774,888,179],function(){return e(e.s=5029)}),_N_E=e.O()}]);