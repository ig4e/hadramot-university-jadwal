(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{488:function(e,s,t){let l=t(79),r=l.forwardRef(function({title:e,titleId:s,...t},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},t),e?l.createElement("title",{id:s},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))});e.exports=r},7719:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tables/preview/[id]",function(){return t(8004)}])},8383:function(e,s,t){"use strict";t.d(s,{an:function(){return v},ZP:function(){return N},HB:function(){return g}});var l=t(5250),r=t(79),a=t(4031),n=t(6667),i=t(4015),d=t(4574),c=t(2278),o=t(5921);let m=o.y.object().shape({name:o.y.string().required("يرجى ادخال أسم"),subjects:o.y.array().of(o.y.string().required("يرجى أدخال مادة واحدة على الاقل"))});var u=t(4538),x=t(6062),b=t(2949),h=t(6502),j=t(8844),f=t(1977);let v=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],g={SUNDAY:"الأحد",MONDAY:"الأثنين",TUESDAY:"الثلثاء",WEDNESDAY:"الأربعاء",THURSDAY:"الخميس",FRIDAY:"الجمعة",SATURDAY:"السبت"};var N=function(e){var s,t;let{onSubmit:o,defaultData:N}=e,p=u.S.subject.list.useQuery({limit:250}),{register:y,handleSubmit:w,watch:D,control:A,formState:{errors:Z},setValue:Y}=(0,c.cI)({resolver:(0,d.X)(m),defaultValues:{name:"",subjects:[""],workDates:[{id:(0,j.Z)(),day:"SUNDAY",value:[8,16]}]}});(0,r.useEffect)(()=>{if(N){let{name:e,subjects:s,workDates:t}=N;Y("name",e),Y("subjects",s),Y("workDates",[]),Y("workDates",t)}},[N]);let{append:S,remove:E,fields:k}=(0,c.Dq)({name:"workDates",control:A,keyName:"id"}),z=(0,r.useMemo)(()=>{var e;return null===(e=p.data)||void 0===e?void 0:e.items.map(e=>{let{id:s,name:t}=e;return{value:s,label:t}})},[null===(s=p.data)||void 0===s?void 0:s.items]);return(0,l.jsxs)("form",{className:"space-y-8",onSubmit:w(o),children:[(0,l.jsx)("div",{className:"flex gap-4",children:(0,l.jsxs)("div",{className:"grid grid-flow-row [grid-template-columns:repeat(auto-fill,minmax(250px,1fr));] gap-4 w-full",children:[(0,l.jsxs)("div",{className:"col-span-1 -mt-2",children:[(0,l.jsx)(x.Z,{size:"sm",children:"معلومات المعلم"}),(0,l.jsx)(a.o,{...y("name"),label:"أسم المعلم",error:null===(t=Z.name)||void 0===t?void 0:t.message})]}),(0,l.jsxs)("div",{className:"col-span-1 -mt-2",children:[(0,l.jsx)(x.Z,{size:"sm",children:"مواد المعلم"}),(0,l.jsx)(c.Qr,{name:"subjects",control:A,render:e=>{var s,t;let{field:r}=e;return(0,l.jsx)(n.NU,{...r,label:"مواد المعلم",data:z||[],error:null==Z?void 0:null===(s=Z.subjects)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.message})}})]})]})}),(0,l.jsxs)("div",{className:"pt-4 border-t space-y-4",children:[(0,l.jsx)(x.Z,{size:"sm",children:"توافر المعلم"}),(0,l.jsxs)(i.m,{defaultValue:"SUNDAY",children:[(0,l.jsx)(i.m.List,{children:v.map(e=>(0,l.jsx)(i.m.Tab,{value:e,children:g[e]},e+"tab"))}),v.map((e,s)=>(0,l.jsxs)(i.m.Panel,{value:e,pt:"md",className:"space-y-10 mx-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(x.Z,{size:"sm",children:["توافر المعلم يوم ",g[e]]}),(0,l.jsxs)(b.Z,{size:"sm",children:["هنا يمكنك تحديد توافر المعلم فى يوم ",g[e]]})]}),(0,l.jsx)(h.Z,{size:"md",onClick:()=>S({day:e,id:(0,j.Z)(),value:[16,20]}),children:"أضف وقت توفر"})]}),k.map((s,t)=>{let{id:r,day:a,value:n}=s;if(e==a)return(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)(c.Qr,{name:"workDates.".concat(t,".value"),control:A,render:e=>{let{field:{onChange:s,onBlur:t,value:r,name:a,ref:n}}=e;return(0,l.jsx)(f.Z,{className:"w-full",onChange:s,onBlur:t,value:[r[0],r[1]],name:a})}}),(0,l.jsx)(h.Z,{intent:"danger",onClick:()=>E(t),size:"md",children:"حذف"})]},r)})]},e+"tabPanel"))]})]}),(0,l.jsx)("div",{className:"border-t-2 border-slate-300 rounded"}),(0,l.jsx)(h.Z,{type:"submit",children:"حفظ"})]})}},6502:function(e,s,t){"use strict";var l=t(5250),r=t(9841);t(79),s.Z=function(e){let{children:s,size:t="lg",className:a,intent:n="primary",...i}=e;return(0,l.jsx)("button",{type:"button",...i,className:(0,r.Z)("rounded-md font-medium transition enabled:hover:-translate-y-0.5 enabled:active:hover:translate-y-0 disabled:opacity-50 select-none",{"text-xl font-medium py-2 px-4 rounded-lg":"lg"===t,"text-lg py-1 px-2":"md"===t,"text-md py-1 px-2":"sm"===t,"bg-blue-600 enabled:hover:bg-blue-700 enabled:active:bg-blue-800 text-neutral-50 ":"primary"===n,"bg-red-600 enabled:hover:bg-red-700 enabled:active:bg-red-800 text-neutral-50 ":"danger"===n,"bg-slate-600 enabled:hover:bg-slate-700 enabled:active:bg-slate-800 text-neutral-50 ":"secondary"===n,"border-2 border-slate-600 enabled:hover:border-slate-700 enabled:active:border-slate-800 text-slate-600 enabled:hover:text-slate-700 enabled:active:text-slate-800":"outline"===n},a),children:s})}},6062:function(e,s,t){"use strict";var l=t(5250),r=t(9841);t(79),s.Z=function(e){let{children:s,size:t="lg",className:a}=e;return(0,l.jsx)("div",{className:(0,r.Z)("font-semibold",{"text-2xl md:text-3xl lg:text-4xl font-semibold":"lg"===t,"text-lg md:text-xl lg:text-2xl font-semibold":"md"===t,"text-base md:text-lg lg:text-xl font-semibold":"sm"===t},a),children:s})}},2949:function(e,s,t){"use strict";var l=t(5250),r=t(9841);t(79),s.Z=function(e){let{children:s,size:t="lg",className:a}=e;return(0,l.jsx)("div",{className:(0,r.Z)("",{"text-base lg:text-lg":"lg"===t,"text-sm lg:text-base":"md"===t,"text-xs lg:text-sm":"sm"===t},a),children:s})}},1977:function(e,s,t){"use strict";var l=t(5250),r=t(1506),a=t(9402),n=t(79),i=t(7449);s.Z=function(e){let{error:s,...t}=e,[d,c]=(0,n.useState)(t.value||[8,16]);return(0,l.jsxs)("div",{className:(0,r.Z)(t.className,""),children:[(0,l.jsx)(a.U,{...t,className:(0,r.Z)(t.className,"w-full"),max:24,maxRange:24,minRange:.25,label:i.L,step:.25,marks:Array.from({length:48}).map((e,s)=>({value:s/2})),onChange:e=>{t.onChange&&t.onChange(e),c(e)},value:d,color:s&&"red"}),(0,l.jsxs)("div",{className:(0,r.Z)("relative",{"text-red-500":!!s}),children:[(0,l.jsxs)("span",{className:"whitespace-nowrap self-start top-0 left-0 absolute",children:[(0,i.L)(d[0])," ألى ",(0,i.L)(d[1])]}),(0,l.jsx)("div",{className:"h-4 w-1 block"}),s&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("span",{className:"",dangerouslySetInnerHTML:{__html:s}})},"sliderError")})]})]})}},442:function(e,s,t){"use strict";t.d(s,{K:function(){return l}});let l={1:"عام",2:"موازى"}},1891:function(e,s,t){"use strict";t.d(s,{H:function(){return l}});let l={1:"الأول",2:"الثانى",3:"الثالث",4:"الرابع"}},633:function(e,s,t){"use strict";t.d(s,{Y:function(){return l}});let l={1:"الأول",2:"الثانى"}},8004:function(e,s,t){"use strict";t.r(s);var l=t(5250),r=t(9174),a=t(79),n=t(442),i=t(633),d=t(4538),c=t(1891),o=t(6513),m=t(6062),u=t(2949),x=t(6133),b=t.n(x),h=t(7449),j=t(8383),f=t(6502),v=t(488);let g={SUNDAY:1,MONDAY:2,TUESDAY:3,WEDNESDAY:4,THURSDAY:5,FRIDAY:6,SATURDAY:7};s.default=function(){var e;let s=(0,r.useRouter)(),{id:t}=s.query,x=d.S.table.get.useQuery({id:t}),{data:N}=x,p=(0,a.useMemo)(()=>{let e=new Map;return N&&j.an.forEach(s=>{e.set(s,N.subjects.filter(e=>e.day.name===s).length)}),e},[N]);if(!N)return(0,l.jsx)("span",{children:"جارى التحميل"});let y=new Date(N.createdAt).getFullYear();return(0,l.jsxs)("div",{className:"relative -mt-4 print:mt-0",children:[(0,l.jsx)("div",{className:"fixed bottom-4 print:hidden bg-slate-900 rounded-xl transition p-2 ",children:(0,l.jsx)("a",{href:"http://localhost:3000/generate/pdf?title="+t,children:(0,l.jsxs)(f.Z,{size:"lg",className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"w-6 h-6"}),(0,l.jsx)("span",{children:"استخراج ألى PDF"})]})})}),(0,l.jsxs)("div",{className:"flex flex-col justify-between min-h-[99vh] h-full gap-4",id:"preview",children:[(0,l.jsxs)("div",{className:"space-y-4 print:mt-2",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"w-full self-center flex justify-start",children:(0,l.jsxs)(m.Z,{size:"md",className:"",children:["الـجـمـهـوريـة الـيـمـنـيـة ",(0,l.jsx)("br",{})," جــامـعـة حــضــرمـوت"]})}),(0,l.jsx)("div",{className:"min-w-fit",children:(0,l.jsx)(b(),{src:"/images/logo.png",className:"w-32 lg:w-48",alt:"logo",width:192,height:192})}),(0,l.jsx)("div",{className:"w-full self-center flex justify-start",dir:"ltr",children:(0,l.jsxs)(m.Z,{size:"md",className:"",children:["REPUBLIC OF YEMEN ",(0,l.jsx)("br",{})," HADRMOUT UNIVERSITY"]})})]}),(0,l.jsx)("div",{className:"pb-0.5 border-b-2 border-t-2 border-blue-600 w-full"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsxs)(m.Z,{size:"lg",children:["جدول المحاضرات الأسبوعى لقسم ",null===(e=N.major)||void 0===e?void 0:e.name]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)(u.Z,{size:"lg",children:["العام الدراسى: ",y,"-",y+1]}),(0,l.jsx)(o.i,{orientation:"vertical"}),(0,l.jsxs)(u.Z,{size:"lg",children:["الفصل الدراسى: ",i.Y[null==N?void 0:N.semester]]}),(0,l.jsx)(o.i,{orientation:"vertical"}),(0,l.jsxs)(u.Z,{size:"lg",children:[" القبول: ال",n.K[null==N?void 0:N.type]]}),(0,l.jsx)(o.i,{orientation:"vertical"}),(0,l.jsxs)(u.Z,{size:"lg",children:["المستوى: ",c.H[null==N?void 0:N.level]]})]})]}),(0,l.jsxs)("table",{className:"w-full ",cellSpacing:108,children:[(0,l.jsxs)("tr",{className:"border border-blue-600 text-center",children:[(0,l.jsx)("th",{className:"border border-blue-600 text-center",children:"الأيام"}),(0,l.jsx)("th",{className:"border border-blue-600 text-center",children:"عضو هيئة التعليم"}),(0,l.jsx)("th",{className:"border border-blue-600 text-center",children:"المادة"}),(0,l.jsx)("th",{className:"border border-blue-600 text-center",children:"الوقت"}),(0,l.jsx)("th",{className:"border border-blue-600 text-center",children:"القاعة"})]}),N.subjects.sort((e,s)=>g[e.day.name]-g[s.day.name]).map((e,s,t)=>{let r=e.day.name;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("tr",{className:"".concat(s%2?"":"bg-blue-200"),children:[s===t.findIndex(s=>s.day.name===e.day.name)&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("td",{className:"border border-blue-600 text-center bg-slate-50",rowSpan:p.get(e.day.name),children:j.HB[r]})}),(0,l.jsx)("td",{className:"border border-blue-600 text-center",children:e.teacher.name}),(0,l.jsx)("td",{className:"border border-blue-600 text-center",children:e.subject.name}),(0,l.jsxs)("td",{className:"border border-blue-600 text-center",children:[(0,h.L)(e.startsAt),"-",(0,h.L)(e.endsAt)]}),(0,l.jsx)("td",{className:"border border-blue-600 text-center",children:e.hall.name})]})})})]})]}),(0,l.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,l.jsx)("div",{className:"pb-0.5 border-b-2 border-t-2 border-blue-600 w-full"}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1 items-start",children:[(0,l.jsx)(m.Z,{size:"sm",children:"المكلا-ص.ب: 50512-50511"}),(0,l.jsx)(m.Z,{size:"sm",children:"تليفاكس:(009675) 360766"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 items-start",dir:"ltr",children:[(0,l.jsx)(m.Z,{size:"sm",children:"Al-Mukalla P.O. Box: 50511-50512"}),(0,l.jsx)(m.Z,{size:"sm",children:"Tel Fax: 360766 (009675)"})]})]})]})]})]})}},7449:function(e,s,t){"use strict";t.d(s,{L:function(){return a}});var l=t(7354),r=t.n(l);function a(e){return r()().startOf("day").set("second",3600*e).format("hh:mm A").replace(/[0-9]/g,e=>Number(e).toLocaleString("ar-AE"))}t(9823),r().locale("ar-sa")},5921:function(e,s,t){"use strict";t.d(s,{y:function(){return l}});var l=t(4004),r=t(8155);l.setLocale(r.ar)}},function(e){e.O(0,[609,850,271,794,785,774,888,179],function(){return e(e.s=7719)}),_N_E=e.O()}]);