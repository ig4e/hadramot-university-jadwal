(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{6738:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teachers/create",function(){return s(3254)}])},9247:function(e,t,s){"use strict";var a=s(5250),r=s(8112),n=s.n(r);s(79);var l=s(6502),i=s(6062),c=s(2949);t.Z=function(e){let{header:t,description:s,link:r,leftSection:d}=e;return(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[t&&(0,a.jsx)(i.Z,{children:t}),s&&(0,a.jsx)(c.Z,{size:"lg",children:s})]}),d?d.children:r&&(0,a.jsxs)(n(),{href:r.href,children:[r.buttonChildren&&(0,a.jsx)(l.Z,{size:"lg",className:"flex items-center gap-2 min-w-max self-end",children:r.buttonChildren}),r.children]})]})}},8383:function(e,t,s){"use strict";s.d(t,{an:function(){return j},ZP:function(){return g},HB:function(){return p}});var a=s(5250),r=s(79),n=s(4031),l=s(6667),i=s(4015),c=s(4574),d=s(2278),u=s(5921);let o=u.y.object().shape({name:u.y.string().required("يرجى ادخال أسم"),subjects:u.y.array().of(u.y.string().required("يرجى أدخال مادة واحدة على الاقل"))});var m=s(4538),x=s(6062),h=s(2949),f=s(6502),b=s(8844),v=s(1977);let j=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],p={SUNDAY:"الأحد",MONDAY:"الأثنين",TUESDAY:"الثلثاء",WEDNESDAY:"الأربعاء",THURSDAY:"الخميس",FRIDAY:"الجمعة",SATURDAY:"السبت"};var g=function(e){var t,s;let{onSubmit:u,defaultData:g}=e,N=m.S.subject.list.useQuery({limit:250}),{register:y,handleSubmit:w,watch:A,control:Z,formState:{errors:D},setValue:S}=(0,d.cI)({resolver:(0,c.X)(o),defaultValues:{name:"",subjects:[""],workDates:[{id:(0,b.Z)(),day:"SUNDAY",value:[8,16]}]}});(0,r.useEffect)(()=>{if(g){let{name:e,subjects:t,workDates:s}=g;S("name",e),S("subjects",t),S("workDates",[]),S("workDates",s)}},[g]);let{append:k,remove:Y,fields:E}=(0,d.Dq)({name:"workDates",control:Z,keyName:"id"}),_=(0,r.useMemo)(()=>{var e;return null===(e=N.data)||void 0===e?void 0:e.items.map(e=>{let{id:t,name:s}=e;return{value:t,label:s}})},[null===(t=N.data)||void 0===t?void 0:t.items]);return(0,a.jsxs)("form",{className:"space-y-8",onSubmit:w(u),children:[(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)("div",{className:"grid grid-flow-row [grid-template-columns:repeat(auto-fill,minmax(250px,1fr));] gap-4 w-full",children:[(0,a.jsxs)("div",{className:"col-span-1 -mt-2",children:[(0,a.jsx)(x.Z,{size:"sm",children:"معلومات المعلم"}),(0,a.jsx)(n.o,{...y("name"),label:"أسم المعلم",error:null===(s=D.name)||void 0===s?void 0:s.message})]}),(0,a.jsxs)("div",{className:"col-span-1 -mt-2",children:[(0,a.jsx)(x.Z,{size:"sm",children:"مواد المعلم"}),(0,a.jsx)(d.Qr,{name:"subjects",control:Z,render:e=>{var t,s;let{field:r}=e;return(0,a.jsx)(l.NU,{...r,label:"مواد المعلم",data:_||[],error:null==D?void 0:null===(t=D.subjects)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.message})}})]})]})}),(0,a.jsxs)("div",{className:"pt-4 border-t space-y-4",children:[(0,a.jsx)(x.Z,{size:"sm",children:"توافر المعلم"}),(0,a.jsxs)(i.m,{defaultValue:"SUNDAY",children:[(0,a.jsx)(i.m.List,{children:j.map(e=>(0,a.jsx)(i.m.Tab,{value:e,children:p[e]},e+"tab"))}),j.map((e,t)=>(0,a.jsxs)(i.m.Panel,{value:e,pt:"md",className:"space-y-10 mx-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.Z,{size:"sm",children:["توافر المعلم يوم ",p[e]]}),(0,a.jsxs)(h.Z,{size:"sm",children:["هنا يمكنك تحديد توافر المعلم فى يوم ",p[e]]})]}),(0,a.jsx)(f.Z,{size:"md",onClick:()=>k({day:e,id:(0,b.Z)(),value:[16,20]}),children:"أضف وقت توفر"})]}),E.map((t,s)=>{let{id:r,day:n,value:l}=t;if(e==n)return(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(d.Qr,{name:"workDates.".concat(s,".value"),control:Z,render:e=>{let{field:{onChange:t,onBlur:s,value:r,name:n,ref:l}}=e;return(0,a.jsx)(v.Z,{className:"w-full",onChange:t,onBlur:s,value:[r[0],r[1]],name:n})}}),(0,a.jsx)(f.Z,{intent:"danger",onClick:()=>Y(s),size:"md",children:"حذف"})]},r)})]},e+"tabPanel"))]})]}),(0,a.jsx)("div",{className:"border-t-2 border-slate-300 rounded"}),(0,a.jsx)(f.Z,{type:"submit",children:"حفظ"})]})}},6502:function(e,t,s){"use strict";var a=s(5250),r=s(9841);s(79),t.Z=function(e){let{children:t,size:s="lg",className:n,intent:l="primary",...i}=e;return(0,a.jsx)("button",{type:"button",...i,className:(0,r.Z)("rounded-md font-medium transition enabled:hover:-translate-y-0.5 enabled:active:hover:translate-y-0 disabled:opacity-50 select-none",{"text-xl font-medium py-2 px-4 rounded-lg":"lg"===s,"text-lg py-1 px-2":"md"===s,"text-md py-1 px-2":"sm"===s,"bg-blue-600 enabled:hover:bg-blue-700 enabled:active:bg-blue-800 text-neutral-50 ":"primary"===l,"bg-red-600 enabled:hover:bg-red-700 enabled:active:bg-red-800 text-neutral-50 ":"danger"===l,"bg-slate-600 enabled:hover:bg-slate-700 enabled:active:bg-slate-800 text-neutral-50 ":"secondary"===l,"border-2 border-slate-600 enabled:hover:border-slate-700 enabled:active:border-slate-800 text-slate-600 enabled:hover:text-slate-700 enabled:active:text-slate-800":"outline"===l},n),children:t})}},6062:function(e,t,s){"use strict";var a=s(5250),r=s(9841);s(79),t.Z=function(e){let{children:t,size:s="lg",className:n}=e;return(0,a.jsx)("div",{className:(0,r.Z)("font-semibold",{"text-2xl md:text-3xl lg:text-4xl font-semibold":"lg"===s,"text-lg md:text-xl lg:text-2xl font-semibold":"md"===s,"text-base md:text-lg lg:text-xl font-semibold":"sm"===s},n),children:t})}},2949:function(e,t,s){"use strict";var a=s(5250),r=s(9841);s(79),t.Z=function(e){let{children:t,size:s="lg",className:n}=e;return(0,a.jsx)("div",{className:(0,r.Z)("",{"text-base lg:text-lg":"lg"===s,"text-sm lg:text-base":"md"===s,"text-xs lg:text-sm":"sm"===s},n),children:t})}},1977:function(e,t,s){"use strict";var a=s(5250),r=s(1506),n=s(9402),l=s(79),i=s(7449);t.Z=function(e){let{error:t,...s}=e,[c,d]=(0,l.useState)(s.value||[8,16]);return(0,a.jsxs)("div",{className:(0,r.Z)(s.className,""),children:[(0,a.jsx)(n.U,{...s,className:(0,r.Z)(s.className,"w-full"),max:24,maxRange:24,minRange:.25,label:i.L,step:.25,marks:Array.from({length:48}).map((e,t)=>({value:t/2})),onChange:e=>{s.onChange&&s.onChange(e),d(e)},value:c,color:t&&"red"}),(0,a.jsxs)("div",{className:(0,r.Z)("relative",{"text-red-500":!!t}),children:[(0,a.jsxs)("span",{className:"whitespace-nowrap self-start top-0 left-0 absolute",children:[(0,i.L)(c[0])," ألى ",(0,i.L)(c[1])]}),(0,a.jsx)("div",{className:"h-4 w-1 block"}),t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("span",{className:"",dangerouslySetInnerHTML:{__html:t}})},"sliderError")})]})]})}},6051:function(e,t,s){"use strict";s.d(t,{HW:function(){return n},LR:function(){return r},VW:function(){return l},zV:function(){return a}});let a=e=>({title:"تم أضافة المعلم بنجاح",description:"تم أضافة المعلم <teacherName> بنجاح.".replaceAll("<teacherName>",e),success:!0}),r=e=>({title:"تعذر أضافة المعلم",description:"تعذر أضافة المعلم <teacherName>.".replaceAll("<teacherName>",e),success:!1}),n=e=>({title:"تم تعديل المعلم بنجاح",description:"تم تعديل المعلم <teacherName> بنجاح.".replaceAll("<teacherName>",e),success:!0}),l=e=>({title:"تعذر تعديل المعلم",description:"تعذر تعديل المعلم <teacherName>.".replaceAll("<teacherName>",e),success:!1})},3254:function(e,t,s){"use strict";s.r(t);var a=s(5250),r=s(1380),n=s(9247),l=s(4538),i=s(9597),c=s(9174),d=s(8383),u=s(6051);t.default=function(){let e=(0,c.useRouter)(),t=(0,i.r)(),s=l.S.teacher.create.useMutation();async function o(a){try{let r=await s.mutateAsync({name:a.name,subjects:a.subjects,workDates:a.workDates.map(e=>{let{id:t,day:s,value:a}=e;return{dayName:s,endsAt:a[1],startsAt:a[0]}})});t.notify((0,u.zV)(r.name)),e.push("/teachers")}catch(e){t.notify((0,u.LR)(a.name))}}return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(n.Z,{header:"أنشاء معلم",description:"هنا يمكنك أنشاء معلم وتحديد وقت توفرة وأيام عملة",link:{href:"/teachers",buttonChildren:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.wyc,{className:"w-5 h-5 stroke-white stroke-[0.5]"}),(0,a.jsx)("span",{children:"رجوع"})]})}}),(0,a.jsx)(d.ZP,{onSubmit:o})]})}},7449:function(e,t,s){"use strict";s.d(t,{L:function(){return n}});var a=s(7354),r=s.n(a);function n(e){return r()().startOf("day").set("second",3600*e).format("hh:mm A").replace(/[0-9]/g,e=>Number(e).toLocaleString("ar-AE"))}s(9823),r().locale("ar-sa")},5921:function(e,t,s){"use strict";s.d(t,{y:function(){return a}});var a=s(4004),r=s(8155);a.setLocale(r.ar)}},function(e){e.O(0,[609,850,271,794,785,774,888,179],function(){return e(e.s=6738)}),_N_E=e.O()}]);